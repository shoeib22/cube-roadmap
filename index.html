<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qube Roadmap</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom Scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        
        /* Grid system for 15 weeks */
        .grid-cols-15 {
            grid-template-columns: repeat(15, minmax(0, 1fr));
        }
        
        /* Dynamic Grid Positioning Classes */
        /* Spans defined first so Starts can override them */
        .col-span-2 { grid-column: span 2 / span 2; }
        .col-span-3 { grid-column: span 3 / span 3; }
        .col-span-4 { grid-column: span 4 / span 4; }

        /* Starts defined after with !important to ensure correct placement */
        .col-start-1 { grid-column-start: 1 !important; }
        .col-start-3 { grid-column-start: 3 !important; }
        .col-start-7 { grid-column-start: 7 !important; }
        .col-start-11 { grid-column-start: 11 !important; }
        .col-start-14 { grid-column-start: 14 !important; }
        
        /* Animation utilities */
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans h-screen flex flex-col overflow-hidden p-4 md:p-6">

    <!-- Header -->
    <header class="mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0">
        <div>
            <h1 class="text-2xl md:text-3xl font-bold text-slate-900 flex items-center gap-3">
                <i data-lucide="zap" class="w-8 h-8 text-yellow-500 fill-yellow-500"></i>
                Qube Roadmap
            </h1>
            <p class="text-slate-500 mt-1 text-sm md:text-base">15-Week Strategic Timeline â€¢ 100+ Products & Matter Integration</p>
        </div>
        
        <!-- Legend -->
        <div class="flex flex-wrap gap-2 md:gap-4 text-xs md:text-sm font-medium text-slate-600 bg-white px-4 py-2 rounded-lg shadow-sm border border-slate-100">
            <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-blue-500"></span> Planning</span>
            <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-indigo-500"></span> Dev</span>
            <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-purple-600"></span> IoT & Hardware</span>
            <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-amber-500"></span> QA</span>
            <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-emerald-500"></span> Launch</span>
        </div>
    </header>

    <!-- Gantt Chart Container -->
    <div class="w-full bg-white rounded-xl shadow-sm border border-slate-200 p-4 mb-6 overflow-x-auto shrink-0">
        <div class="min-w-[800px]">
            <!-- Weeks Header -->
            <div class="grid grid-cols-15 gap-1 mb-4 border-b border-slate-100 pb-2">
                <!-- Generated by JS -->
                <div id="weeks-header" class="contents"></div>
            </div>

            <!-- Timeline Bars -->
            <div class="space-y-3 relative h-64">
                <!-- Vertical Grid Lines -->
                <div class="absolute inset-0 grid grid-cols-15 gap-1 h-full -z-10 pointer-events-none" id="grid-lines">
                    <!-- Generated by JS -->
                </div>

                <!-- Bars Container -->
                <div id="timeline-bars" class="space-y-3 pt-1">
                    <!-- Generated by JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Phase Details Cards -->
    <div id="details-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 flex-1 overflow-y-auto pb-4 pr-1">
        <!-- Generated by JS -->
    </div>

    <script>
        // Data Configuration
        const phases = [
            {
                id: 1,
                title: "Phase 1: Planning & Matter R&D",
                weeks: "Weeks 1-2",
                start: 1,
                duration: 2,
                color: "bg-blue-500",
                textColor: "text-blue-500",
                icon: "layers",
                description: "Architecture for 100+ SKUs, Matter Protocol study, and Hardware feasibility.",
                details: [
                    { category: "Strategy", items: ["Catalog classification (100+ items)", "Hardware modification scope"] },
                    { category: "Architecture", items: ["Matter Protocol Bridge design", "Unified Device Model Schema"] },
                    { category: "Design", items: ["Marketplace UX for High-Volume SKUs", "Universal App Control UI"] }
                ]
            },
            {
                id: 2,
                title: "Phase 2: Dev & Hardware Lab",
                weeks: "Weeks 3-6",
                start: 3,
                duration: 4,
                color: "bg-indigo-500",
                textColor: "text-indigo-500",
                icon: "cpu",
                description: "Core App logic, Hardware Teardowns (Switches/Displays), and firmware hacks.",
                details: [
                    { category: "Hardware R&D", items: ["Teardown: Smart Displays/Switches", "PCB/Firmware Mod Analysis"] },
                    { category: "App Core", items: ["Unified Control Framework", "Multi-brand Device Handling"] },
                    { category: "Marketplace", items: ["Bulk SKU Import Engine", "Category Logic (Lighting, HVAC, Media)"] },
                    { category: "Backend", items: ["Matter-compatible API structure", "Device Profile Generation"] }
                ]
            },
            {
                id: 3,
                title: "Phase 3: Integration & Matter",
                weeks: "Weeks 7-10",
                start: 7,
                duration: 4,
                color: "bg-purple-600",
                textColor: "text-purple-600",
                icon: "wifi",
                description: "Deep integration of Matter, Custom Firmware Tweaks, and Automation logic.",
                details: [
                    { category: "Matter & IoT", items: ["Matter Protocol Integration", "Hardware Tweak Validation", "Local Control Logic"] },
                    { category: "Automation", items: ["Cross-Brand Scenes", "Complex Rule Engine"] },
                    { category: "App UI", items: ["Visual Controls for Displays", "Real-time Switch Sync"] },
                    { category: "Marketplace", items: ["Product Bundling (Kit Sales)", "Technical Spec Integration"] }
                ]
            },
            {
                id: 4,
                title: "Phase 4: QA & Interoperability",
                weeks: "Weeks 11-13",
                start: 11,
                duration: 3,
                color: "bg-amber-500",
                textColor: "text-amber-500",
                icon: "activity",
                description: "Testing 100+ devices, Matter compliance, and Hardware reliability.",
                details: [
                    { category: "QA & Testing", items: ["Matter Interoperability Tests", "Modified Hardware Stress Test"] },
                    { category: "Scale Testing", items: ["100+ Device Mesh Stability", "App Performance with high node count"] },
                    { category: "Refinement", items: ["Firmware Tweak Tuning", "Latency Optimization"] }
                ]
            },
            {
                id: 5,
                title: "Phase 5: Launch & Mass Deploy",
                weeks: "Weeks 14-15",
                start: 14,
                duration: 2,
                color: "bg-emerald-500",
                textColor: "text-emerald-500",
                icon: "rocket",
                description: "Marketplace Live, App Store Release, and Support Handoff.",
                details: [
                    { category: "Launch", items: ["Marketplace Live (100+ SKUs)", "App Store Release (Matter Ready)"] },
                    { category: "Docs", items: ["Hardware Mod Schematics", "User Guides for Smart Displays"] },
                    { category: "Handoff", items: ["Support Training", "Firmware Flash Tool Delivery"] }
                ]
            }
        ];

        const totalWeeks = 15;
        let activePhaseId = null;

        // Initialization
        function init() {
            renderWeeksHeader();
            renderGridLines();
            renderTimelineBars();
            renderDetailsCards();
            lucide.createIcons();
        }

        // Render Helpers
        function renderWeeksHeader() {
            const container = document.getElementById('weeks-header');
            let html = '';
            for (let i = 1; i <= totalWeeks; i++) {
                html += `
                    <div class="text-center">
                        <span class="text-[10px] font-semibold text-slate-400 uppercase">Wk</span>
                        <div class="text-sm font-bold text-slate-700">${i}</div>
                    </div>
                `;
            }
            container.innerHTML = html;
        }

        function renderGridLines() {
            const container = document.getElementById('grid-lines');
            let html = '';
            for (let i = 0; i < totalWeeks; i++) {
                html += `<div class="border-r border-slate-50 h-full"></div>`;
            }
            container.innerHTML = html;
        }

        function renderTimelineBars() {
            const container = document.getElementById('timeline-bars');
            container.innerHTML = phases.map(phase => {
                const isActive = activePhaseId === phase.id;
                const opacityClass = (activePhaseId && !isActive) ? 'opacity-50 grayscale' : 'opacity-90 hover:opacity-100 hover:shadow-md';
                const activeRing = isActive ? 'ring-2 ring-offset-2 ring-slate-400 opacity-100 shadow-md transform scale-[1.01]' : '';
                
                return `
                    <div 
                        class="grid grid-cols-15 gap-1 items-center cursor-pointer transition-all duration-200"
                        onclick="togglePhase(${phase.id})"
                    >
                        <div 
                            class="
                                col-start-${phase.start} col-span-${phase.duration} 
                                ${phase.color} 
                                h-10 rounded-lg shadow-sm 
                                flex items-center px-3 relative overflow-hidden transition-all duration-300
                                ${opacityClass} ${activeRing}
                            "
                        >
                            <div class="text-white font-medium text-xs md:text-sm truncate flex items-center gap-2 z-10">
                                <i data-lucide="${phase.icon}" class="w-4 h-4"></i>
                                ${phase.title}
                            </div>
                            <!-- Decorative slash -->
                            <div class="absolute top-0 right-0 h-full w-1/3 bg-white opacity-10 skew-x-12 -mr-4"></div>
                        </div>
                    </div>
                `;
            }).join('');
            lucide.createIcons();
        }

        function renderDetailsCards() {
            const container = document.getElementById('details-container');
            container.innerHTML = phases.map(phase => {
                const isActive = activePhaseId === phase.id;
                const activeClasses = isActive 
                    ? 'border-slate-400 shadow-lg scale-[1.02] z-10 bg-white ring-1 ring-slate-100' 
                    : 'border-slate-200 shadow-sm hover:border-slate-300 bg-white opacity-80 hover:opacity-100';
                
                // Dim others if one is selected
                const dimClass = (activePhaseId && !isActive) ? 'opacity-40 blur-[0.5px]' : '';

                return `
                    <div 
                        class="
                            rounded-xl border p-4 transition-all duration-300 flex flex-col cursor-pointer
                            ${activeClasses} ${dimClass} fade-in
                        "
                        onclick="togglePhase(${phase.id})"
                    >
                        <div class="flex justify-between items-start mb-3">
                            <div class="p-2 rounded-lg ${phase.color} bg-opacity-10">
                                <div class="${phase.textColor}">
                                    <i data-lucide="${phase.icon}" class="w-5 h-5"></i>
                                </div>
                            </div>
                            <span class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">${phase.weeks}</span>
                        </div>
                        
                        <h3 class="font-bold text-slate-800 mb-1 text-sm">${phase.title}</h3>
                        <p class="text-xs text-slate-500 mb-4 leading-relaxed line-clamp-2">${phase.description}</p>
                        
                        <div class="space-y-3 mt-auto">
                            ${phase.details.map(section => `
                                <div class="bg-slate-50 rounded-lg p-2 border border-slate-100">
                                    <h4 class="text-[11px] font-bold text-slate-700 mb-1 flex items-center gap-1 uppercase tracking-tight">
                                        ${section.category}
                                    </h4>
                                    <ul class="space-y-1">
                                        ${section.items.map(item => `
                                            <li class="text-[10px] text-slate-600 flex items-start gap-1.5 leading-tight">
                                                <span class="mt-1 min-w-[4px] h-1 rounded-full ${phase.color}"></span>
                                                <span>${item}</span>
                                            </li>
                                        `).join('')}
                                    </ul>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
            lucide.createIcons();
        }

        // Interaction Logic
        window.togglePhase = function(id) {
            if (activePhaseId === id) {
                activePhaseId = null;
            } else {
                activePhaseId = id;
            }
            // Re-render to update classes
            renderTimelineBars();
            renderDetailsCards();
        }

        // Run Init
        init();

    </script>
</body>

</html>
